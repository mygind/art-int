\chapter{Results and Analysis}
\label{cha:analysis}

\section{Introduction}
In this chapter we gather the results of the including the different
heuristics and algorithms in the solver. We go on to analyse these
results in order to determine the best combination of heuristic and
algorithm.

\section{Experimental Environment}
Here we define the set of levels on which we are going to compare the
heuristics and solvers. 

\subsection{Levelset}
The 3D engine (see Chapter \ref{cha:design}) we found came with a
number of simple levelsets. We chose the first of these as our primary
target set. This set of levels is consists mostly of small levels. The
average area of the levels in this was found to be $52.4$, whereas the
original levelset (of which the first floor-plan is depicted in Figure
\ref{fig:soko-org-screen}) has an average area of
$280.1$.\footnote{These areas is computed by multiplying the number of
  lines in the level-file with the length of the longest line in the
  level. So it is not exact, but is a good indicator of difficulty.}


\subsection{Methodology}
We will run all solvers on the level set defined above and observe the
number of total states discovered as a function of the solution trace.
These traces will give us some idea of which of these solvers, along
with which heuristics seem interesting.

We anticipate that the better (and thereby faster) the
solver/heuristic combination, the lower branching factor. The
branching factor for this kind of tree is would be calculated as an
average branching factor since it is irregular. We call this branching
factor, the \emph{determination} of the heuristic.

It is, however, important that the heuristic is not only determinate,
but also \emph{accurate}. A heuristic is accurate if it leads to
solution trace that is as short as possible.

\section{Speed vs. solution size}
When we use a better heuristic the time needed to find a solution in a level is of course decreased. The solution found however is often bigger the faster it is found. Tables containing informations on the speed and solutionsize of the different heuristics can be found in appendix \ref{app:solutions}.

The heuristic names are simplified very much so that:
\begin{itemize}
\item +\{a, b, c\} is a HeuristicsAdder adding the heuristics a, b, and c
\item *\{a, b, c\} is a HeuristicsMultiplier multiplying the results of the heuristics a, b, and c
\item i is a SubGoalIndependence heuristic
\item c is a CornerHeursitic
\item 4 is a Box4x4Heuristic
\item B is a BoxOnGoalHeuristic
\item s is a ShortestPathHeuristic
\item a is a AveragePathHeuristic
\item A(a) is an \astar solver with the heuristic a
\item and finally a BFSolver is a BreadthFirst Solver
\end{itemize}

If we use the heuristic A(+\{*\{B,B,s,s\},c,4\})\footnote{an \astar solver with an HeuristicAdder (+) adding the results of a cornerHeuristic (c), a Box4x4Heuristic (4) and a HeuristicMultiplier (*) which multiplys the results of two BoxOnGoalHeursitics (B) and two ShortestPathHeuristic (s)} the time spent on finding a solution is much smaller than when we use the simple BreadthFirst Solver. And on the hard levels (Level40) only the best heuristics are able to find a solution in under 10 seconds.

At the same time the better the heuristic, the larger the solution.

The easier the level the less clear it is to see that the more advanced heursitics should be faster. The more advanced heuristics take longer to evaluate each step and hence makes the evaluation time longer. On small easy levels this increased step time matter, but as soon as the level increase in complexity the time spents is paid back tenfold.

\begin{verbatim}
		screen.1.level
		Name                Time      Sol. len. 
		----------------------------------------
		BFSolver                 10525         0
		A(+{*{i,i},c,4})         10001         0
		A(+{*{s,s},c,4})         10046         0
		A(+{*{B,B,s,s},c,4})       548       380
		A(+{*{B,B,a,a},c,4})       518       380
\end{verbatim}





